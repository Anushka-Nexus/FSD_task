What is MongoDB?

MongoDB is a NoSQL database.
It is used to store and manage data, but not in tables like traditional SQL databases.
Instead, MongoDB stores data in a flexible, JSON-like format called documents.

Real-Life Example
  Imagine this:
  You are building an online shopping app.
  
  Each user has:
  Name
  Email
  Address
  List of orders
  
  In SQL, you'd create multiple tables:
  
  Users table
  Orders table
  Products table
  Then you'd link them with IDs.
  
  In MongoDB, you can store all this info in one document:
  {
  "name": "Alice",
  "email": "alice@example.com",
  "address": "123 Main St",
  "orders": [
    { "product": "Shirt", "price": 20 },
    { "product": "Shoes", "price": 50 }
  ]
 }
 No need for complex joins â€” everything is together, like a full profile.

Simple Logic Behind MongoDB

  MongoDB stores data as documents (in BSON â€“ binary JSON).
  Documents are stored in collections (like tables in SQL).
  It's schema-less â€” each document can be different!
  It's great for dynamic, changing, or nested data.

Why use MongoDB?

  Flexible: Add or remove fields anytime.
  Fast: Especially with large and complex data.
  Scalable: Easy to grow your database as your app grows.
  Real-time apps: Great for chat apps, shopping apps, IoT, etc.

Real-Time Uses of MongoDB

  E-commerce websites â€“ to store users, orders, products.
  Real-time analytics â€“ like dashboards.
  Mobile apps â€“ flexible data model suits rapid changes.
  IoT â€“ handles large volume of semi-structured data.
  Content management systems (CMS) â€“ flexible content types.

CRUD Operations in MongoDB

  CRUD stands for:
  
  Operation	Meaning	MongoDB Command Example
  C - Create	Insert data	db.users.insertOne({ name: "John", age: 25 })
  R - Read	Get data	db.users.find({ age: 25 })
  U - Update	Change data	db.users.updateOne({ name: "John" }, { $set: { age: 26 } })
  D - Delete	Remove data	db.users.deleteOne({ name: "John" })

Think of db.users as your collection of user documents.


Structure of MongoDB
Hierarchy:
MongoDB Server
â””â”€â”€ Databases
    â””â”€â”€ Collections (like tables)
        â””â”€â”€ Documents (like rows, but JSON-like)

Embedded vs Referenced Data
   Embedded Document (One document holds all info)
   {
     "name": "Ravi",
     "order": {
       "item": "Phone",
       "price": 1000
     }
   }
   
   Referenced (Split into two collections, linked by ID)
   // In users
   { "_id": 1, "name": "Ravi" }
   
   // In orders
   { "user_id": 1, "item": "Phone", "price": 1000 }
   
   
   ðŸ“Œ Use embedded when data is used together.
   ðŸ“Œ Use referenced when data grows big or is reused.

Aggregation

  Think of aggregation as advanced queries (like Excel reports).
  
  Used for:
  Counting
  Grouping
  Filtering
  Summarizing
  
  Example: Count how many users are 25 years old.
  
  db.users.aggregate([
    { $match: { age: 25 } },
    { $count: "total" }
  ])

Tools for MongoDB

   MongoDB Compass â€“ GUI tool to visualize data
   Mongoose â€“ Library to use MongoDB easily with Node.js
   Robo 3T â€“ Another GUI tool
   Mongo Shell / mongosh â€“ Command-line tool

Security in MongoDB

  Use username/password authentication
  Enable access control (limit who can read/write)
  Encrypt sensitive data
  In production, never allow open access to the internet

When to Use MongoDB?

  Best for:
  Changing or unpredictable data structures
  Fast development cycles
  Nested or hierarchical data
  Real-time analytics
  
  Not ideal for:
  Complex transactions across many tables (like banking)
  Strongly relational data (where SQL fits better)


=====NoSQL======

What is NoSQL?

  NoSQL = "Not Only SQL"
  It's a type of database that stores non-tabular data.
  It's used when data is large, unstructured, fast-changing, or complex.

Document-based Structure (e.g., MongoDB)

  Data is stored in documents (like JSON).
  Documents are grouped into collections.
  No fixed schema â€“ flexible structure.

Structure:
Database
â””â”€â”€ Collection (e.g., users)
    â””â”€â”€ Document (JSON-like)

Key-Value Store Structure (e.g., Redis)
  
  Simplest form: Each value is accessed via a unique key.  
  Very fast, used in caching.

What is File-Based Storage?

  File-based storage means storing data in regular files on your system â€” like:
  .txt, .csv, .json, .xml, etc.
  You read/write data using file handling methods.
  No database engine is involved.

What is NoSQL?

  NoSQL is a non-relational database system that stores data in a structured yet flexible format (like documents, key-values, etc.).
  MongoDB is an example (stores JSON-like documents).
  You interact using database queries, not raw file I/O.
  It has built-in features like indexing, searching, and scaling.

Key Differences: File-Based vs NoSQL
Feature	                         File-Based Storage	                            NoSQL Database (e.g. MongoDB)
Data Format	                   Plain text files (CSV, JSON, XML)	            Structured documents (BSON, JSON)
Access Method	               Manual file handling (read/write)	             Query language (like MongoDB queries)
Performance (Large Data)   	    Slower as file grows	                         Optimized for large datasets
Search Capability	             Must scan entire file (slow)               	 Fast queries with indexes
Schema	                      No schema enforcement	                             Schema-less but structured
Data Integrity	                Hard to maintain manually	                     Built-in validation & atomic operations
Concurrency                	Difficult to manage multiple users	                 Supports concurrent access safely
Backup/Restore                       	Manual file copy	                      Built-in tools for backup/restore
Scalability	                 Limited (depends on file system)	                  Highly scalable (sharding, clustering)
Use Cases	                       Simple apps, config files	                   Web apps, real-time systems, large data
   

When to Use What?

    Use File-Based Storage if:
    You have small data
    You don't need complex querying
    You're building simple apps, logs, configs
    You're okay with manual file I/O


    Use NoSQL if:
    You have growing or complex data
    You need fast access, search, or analytics
    You want real-time applications (chat, IoT, etc.)
    You need reliable multi-user access

Structure of MongoDB
Hierarchy:
MongoDB Server
â””â”€â”€ Databases
    â””â”€â”€ Collections (like tables)
        â””â”€â”€ Documents (like rows, but JSON-like)

First one need to create a database 
command :- 
 use databasename

Then create collection
command :-
  db.createCollection("collection_name")
  this create collection

Create document
command :-
  db.collection_name.insertOne({name:"anu",age:19,phone:9876534677})
  ex:-
     db.students.insertOne(
    {
        _id: 3,
        name: "student3",
        phone : 8237895726,
        age : 23,
        address: {
            street: "plot 4, sharda layout",
            city: "nagpur",
            pincode: "440024",
            state: "Maharashtra"
        }
    }
) 

  after executing this command mongodb allocate a unique id to each document.

2nd command:-
db.collection_name.insertMany([
  {},{},{}
])

ex:-
   db.customers.insertMany([
    {_id:1, name : "Anushka",phone:7688980887, address : "Chatrapati Nagar", state : "Maharashtra"},
    {_id:2, name : "Shreyash",phone:677980847, address :"Jaitala",state : "Maharashtra"},
    {_id:3, name : "Purva", phone:9087677887, address : "Pratap Nagar",state : "Maharashtra"},
    {_id:4, name : "Mahima",phone:6998934587, address : "Bahadura Fata",state : "Maharashtra"}
])

ex:-
  db.Products.insertMany([
    {_id:51, name : "Lamp", stock: 100, selling_price : 220, discount: 5},
    {_id:52, name : "Wall Hanging", stock: 100, selling_price : 300, discount: 15},
    {_id:53, name : "Sofa Cover", stock: 110, selling_price : 400, discount: 12},
    {_id:54, name : "Ink", stock: 40, selling_price : 55, discount: 10},
     {_id:55, name : "Painting", stock: 60, selling_price : 500, discount: 15},
       {_id:56, name : "Aesthetic Mirror", stock: 50, selling_price : 900, discount: 15}

])

ex:-

there are more two commands 
show collection :- display the collection present within the database

show dbs :- display name od database created within the mongodb

READ commands
 
 db.collection_name.findOne({}):- returns null or an object

 db.collection_name.find({}) ->returns [] / [objects]

 {fieldname :"value"}


Read Operations
Read operations retrieve documents from a collection; i.e. query a collection for documents. MongoDB provides the following methods to read documents from a collection:

db.collection.find()

You can specify query filters or criteria that identify the documents to return.

comparision oprators

$gt - greater than
$gte - greater than equals
$lt - less than
$lte - less than equals
$in - for range
$nin - not in range
$eq - equals
$ne - not equals

{ age : {$lt : 20} }


Database1> db.customers.find({_id:3})
[
  {
    _id: 3,
    name: 'Purva',
    phone: 9087677887,
    address: 'Pratap Nagar',
    state: 'Maharashtra'
  }
]
Database1> db.Products.find({stock:100,_id:51})
[
  {
    _id: 51,
    name: 'Lamp',
    stock: 100,
    selling_price: 220,
    discount: 5
  }
]


Read Conditionally :-

db.Products.find({
  $or: [
    { selling_price: { $lt: 400 } },
    { discount: { $gt: 5 } }
  ]
})

output:-
Database1> db.Products.find({
...   $or: [
...     { selling_price: { $lt: 400 } },
...     { discount: { $gt: 5 } }
...   ]
... })
[
  {
    _id: 51,
    name: 'Lamp',
    stock: 100,
    selling_price: 220,
    discount: 5
  },
  {
    _id: 52,
    name: 'Wall Hanging',
    stock: 100,
    selling_price: 300,
    discount: 15
  },
  {
    _id: 53,
    name: 'Sofa Cover',
    stock: 110,
    selling_price: 400,
    discount: 12
  },
  { _id: 54, name: 'Ink', stock: 40, selling_price: 55, discount: 10 },
  {
    _id: 55,
    name: 'Painting',
    stock: 60,
    selling_price: 500,
    discount: 15
  },
  {
    _id: 56,
    name: 'Aesthetic Mirror',
    stock: 50,
    selling_price: 900,
    discount: 15
  }
]

Using nor:-
db.Products.find({
  $nor: [
    { selling_price: { $lt: 400 } },
    { discount: { $gt: 15 } }
  ]
})

output:-
[
  {
    _id: 53,
    name: 'Sofa Cover',
    stock: 110,
    selling_price: 400,
    discount: 12
  },
  {
    _id: 55,
    name: 'Painting',
    stock: 60,
    selling_price: 500,
    discount: 15
  },
  {
    _id: 56,
    name: 'Aesthetic Mirror',
    stock: 50,
    selling_price: 900,
    discount: 15
  }
]

Using not :-
db.Products.find(
  {
    $not : {selling_price:220}
    
  }

)
:-

Database1> db.Products.find(
...   {
...     $not : {selling_price:220}
...
...   }
...
... )
MongoServerError[BadValue]: unknown top level operator: $not. If you are trying to negate an entire expression, use $nor.

I had created 
 languagedatabase (database) -> languages (collection) -> documents

 ******************QUERY********************

languagedatabase> db.languages.find({ id: 5 })
[
  {
    _id: ObjectId('68fa29b05d96ab8bcecebea8'),
    id: 5,
    name: 'C++',
    difficulty: 'Advanced',
    scope: [ 'Game Development', 'System Software' ],
    duration: '5 months'
  }
]
---------------------------------------------------------------
languagedatabase> db.languages.find({ id: { $gt: 5, $lt: 15 } })
[
  {
    _id: ObjectId('68fa29b05d96ab8bcecebea9'),
    id: 6,
    name: 'C#',
    difficulty: 'Intermediate',
    scope: [ 'Desktop Apps', 'Game Dev with Unity' ],
    duration: '4 months'
  },
  {
    _id: ObjectId('68fa29b05d96ab8bcecebeaa'),
    id: 7,
    name: 'PHP',
    difficulty: 'Beginner',
    scope: [ 'Web Development', 'Backend' ],
    duration: '2 months'
  },
  {
    _id: ObjectId('68fa29b05d96ab8bcecebeab'),
    id: 8,
    name: 'Ruby',
    difficulty: 'Beginner',
    scope: [ 'Web Development', 'Scripting' ],
    duration: '2 months'
  },
  {
    _id: ObjectId('68fa29b05d96ab8bcecebeac'),
    id: 9,
    name: 'Swift',
    difficulty: 'Intermediate',
    scope: [ 'iOS App Development' ],
    duration: '3 months'
  },
  {
    _id: ObjectId('68fa29b05d96ab8bcecebead'),
    id: 10,
    name: 'Kotlin',
    difficulty: 'Intermediate',
    scope: [ 'Android Development' ],
    duration: '3 months'
  },
  {
    _id: ObjectId('68fa29b05d96ab8bcecebeae'),
    id: 11,
    name: 'Go',
    difficulty: 'Intermediate',
    scope: [ 'Backend Systems', 'Cloud Services' ],
    duration: '4 months'
  },
  {
    _id: ObjectId('68fa29b05d96ab8bcecebeaf'),
    id: 12,
    name: 'Rust',
    difficulty: 'Advanced',
    scope: [ 'System Programming', 'Performance Apps' ],
    duration: '5 months'
  },
  {
    _id: ObjectId('68fa29b05d96ab8bcecebeb0'),
    id: 13,
    name: 'TypeScript',
    difficulty: 'Intermediate',
    scope: [ 'Web Development', 'Frontend' ],
    duration: '3 months'
  },
  {
    _id: ObjectId('68fa29b05d96ab8bcecebeb1'),
    id: 14,
    name: 'R',
    difficulty: 'Intermediate',
    scope: [ 'Data Analysis', 'Machine Learning' ],
    duration: '4 months'
  }
]

--------------------------------------
languagedatabase> db.languages.find({id : {$ne : 2, $lt :3}})
[
  {
    _id: ObjectId('68fa29b05d96ab8bcecebea4'),
    id: 1,
    name: 'Python',
    difficulty: 'Beginner',
    scope: [ 'AI', 'Web Development', 'Data Science' ],
    duration: '3 months'
  }
]

----------------------------------------------
languagedatabase> db.languages.find({scope : "Web Development"})
[
  {
    _id: ObjectId('68fa29b05d96ab8bcecebea4'),
    id: 1,
    name: 'Python',
    difficulty: 'Beginner',
    scope: [ 'AI', 'Web Development', 'Data Science' ],
    duration: '3 months'
  },
  {
    _id: ObjectId('68fa29b05d96ab8bcecebea5'),
    id: 2,
    name: 'JavaScript',
    difficulty: 'Beginner',
    scope: [ 'Web Development', 'Frontend', 'Backend' ],
    duration: '2 months'
  },
  {
    _id: ObjectId('68fa29b05d96ab8bcecebeaa'),
    id: 7,
    name: 'PHP',
    difficulty: 'Beginner',
    scope: [ 'Web Development', 'Backend' ],
    duration: '2 months'
  },
  {
    _id: ObjectId('68fa29b05d96ab8bcecebeab'),
    id: 8,
    name: 'Ruby',
    difficulty: 'Beginner',
    scope: [ 'Web Development', 'Scripting' ],
    duration: '2 months'
  },
  {
    _id: ObjectId('68fa29b05d96ab8bcecebeb0'),
    id: 13,
    name: 'TypeScript',
    difficulty: 'Intermediate',
    scope: [ 'Web Development', 'Frontend' ],
    duration: '3 months'
  },
  {
    _id: ObjectId('68fa29b05d96ab8bcecebec9'),
    id: 38,
    name: 'Crystal',
    difficulty: 'Intermediate',
    scope: [ 'Web Development' ],
    duration: '3 months'
  }
]

-----------------------------------------------
 db.languages.find({scope : { $size : 3}})
[
  {
    _id: ObjectId('68fa29b05d96ab8bcecebea4'),
    id: 1,
    name: 'Python',
    difficulty: 'Beginner',
    scope: [ 'AI', 'Web Development', 'Data Science' ],
    duration: '3 months',
    Rating: 0
  },
  {
    _id: ObjectId('68fa29b05d96ab8bcecebea5'),
    id: 2,
    name: 'JavaScript',
    difficulty: 'Beginner',
    scope: [ 'Web Development', 'Frontend', 'Backend' ],
    duration: '2 months',
    Rating: 0
  }
]
-----------------------------------------------
languagedatabase> db.languages.updateMany({scope : { $size : 3}},{$set: {Rating : 3}})
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 2,
  modifiedCount: 2,
  upsertedCount: 0
}
-----------------------------------------------
 db.languages.find({Rating :3})
[
  {
    _id: ObjectId('68fa29b05d96ab8bcecebea4'),
    id: 1,
    name: 'Python',
    difficulty: 'Beginner',
    scope: [ 'AI', 'Web Development', 'Data Science' ],
    duration: '3 months',
    Rating: 3
  },
  {
    _id: ObjectId('68fa29b05d96ab8bcecebea5'),
    id: 2,
    name: 'JavaScript',
    difficulty: 'Beginner',
    scope: [ 'Web Development', 'Frontend', 'Backend' ],
    duration: '2 months',
    Rating: 3
  }
]
-----------------------------------------------
 db.languages.updateMany(
...   { scope: "Backend" },
...   { $set: { Rating: 4 } }
... )
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 2,
  modifiedCount: 2,
  upsertedCount: 0
}
-----------------------------------------------
 db.languages.updateMany({duration : "2 months"},{$set : {Rating : 2.5}})
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 12,
  modifiedCount: 12,
  upsertedCount: 0
}
-----------------------------------------------
 db.languages.updateMany({duration : "5 months"},{$set : {Rating:4.6}})
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 21,
  modifiedCount: 21,
  upsertedCount: 0
}
-----------------------------------------------